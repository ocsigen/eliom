<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Eliom_references </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script><script src="/js/client.js"></script></head><body class="eliom 2.1.1 server Eliom_references"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href="/" class="ocsimore_phrasing_link"><img src="/img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Eliom
</p><ul class="mainmenu"><li class="mainmenu-home"><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="mainmenu-doc"><a href="/tuto/6.2/manual/intro" class="ocsimore_phrasing_link">Doc</a>
</li><li class="mainmenu-current"><a href="/eliom/6.3/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li><a href="/js_of_ocaml/3.1.0/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li><a href="/lwt/3.2.1/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li><a href="/ocsigen-start/1.1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li></ul><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href="/tuto/6.2/manual/intro" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-current drawermainmenu-project"><a href="/eliom/6.3/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href="/js_of_ocaml/3.1.0/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href="/ocsigenserver/2.9/manual/quickstart" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href="/lwt/3.2.1/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href="/ocsigen-toolkit/1.1.0/manual/intro" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href="/ocsigen-start/1.1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-page"><a href="/projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href="/papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href="/credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href="/blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="/eliom/2.1.1/manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="/eliom/2.1.1/manual/services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="/eliom/2.1.1/manual/params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="/eliom/2.1.1/manual/outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="/eliom/2.1.1/manual/links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="/eliom/2.1.1/manual/state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="/eliom/2.1.1/manual/config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="/eliom/2.1.1/manual/client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="/eliom/2.1.1/manual/client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="/eliom/2.1.1/manual/client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="/eliom/2.1.1/manual/html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="/eliom/2.1.1/manual/security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="/eliom/2.1.1/manual/wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="/eliom/2.1.1/manual/examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Server API</h1><h2><a href="/eliom/2.1.1/api/server/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2>HTML</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_pervasives.HTML5" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_pervasives.XHTML" class="ocsimore_phrasing_link">Eliom_pervasives.XHTML</a></h3><h2>Services creation and service handler</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_output" class="ocsimore_phrasing_link">Eliom_output</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_references" class="ocsimore_phrasing_link">Eliom_references</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_types">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_values">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_modules">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_module_types">Index of module types</a></span></h3><h1>Eliom client API</h1><h2><a href="/eliom/2.1.1/api/client/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2>HTML</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_pervasives.HTML5" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_dom" class="ocsimore_phrasing_link">Eliom_dom</a></h3><h2>Services creation and manipulation</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_client.Html5" class="ocsimore_phrasing_link">Eliom_client.Html5</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_types">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_values">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_modules">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_module_types">Index of module types</a></span></h3></nav></nav></aside></div><div class="client-server-switch-wrapper" id="smallscreencsswitch"><div class="client-server-switch"><span class="server source">This is server API</span> (go to <a class="client target" href="/eliom/2.1.1/api/client/Eliom_references">client</a>)</div></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value="/eliom/dev/api/server/Eliom_references">dev</option><option value="/eliom/6.3/api/server/Eliom_references">6.3</option><option value="/eliom/6.2/api/server/Eliom_references">6.2</option><option value="/eliom/6.1/api/server/Eliom_references">6.1</option><option value="/eliom/6.0/api/server/Eliom_references">6.0</option><option value="/eliom/5.0/api/server/Eliom_references">5.0</option><option value="/eliom/4.2/api/server/Eliom_references">4.2</option><option value="/eliom/4.1/api/server/Eliom_references">4.1</option><option value="/eliom/4.0/api/server/Eliom_references">4.0</option><option value="/eliom/3.0/api/server/Eliom_references">3.0</option><option value="/eliom/2.2.2/api/server/Eliom_references">2.2.2</option><option class="how-versions-all-current">2.1.1</option><option value="/eliom/2.0.2/api/server/Eliom_references">2.0.2</option><option value="/eliom/2.0.1/api/server/Eliom_references">2.0.1</option><option value="/eliom/2.0/api/server/Eliom_references">2.0</option><option value="/eliom/1.3.4/api/server/Eliom_references">1.3.4</option><option value="/eliom/1.2.2/api/server/Eliom_references">1.2.2</option><option value="/eliom/1.1.0/api/server/Eliom_references">1.1.0</option></select><div class="client-server-switch-wrapper" id="largescreencsswitch"><div class="client-server-switch"><span class="server source">This is server API</span> (go to <a class="client target" href="/eliom/2.1.1/api/client/Eliom_references">client</a>)</div></div><form id="search"><input name="q" id="q" placeholder="search ..."/><button>Search</button></form><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="/eliom/2.1.1/manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="/eliom/2.1.1/manual/services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="/eliom/2.1.1/manual/params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="/eliom/2.1.1/manual/outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="/eliom/2.1.1/manual/links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="/eliom/2.1.1/manual/state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="/eliom/2.1.1/manual/config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="/eliom/2.1.1/manual/client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="/eliom/2.1.1/manual/client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="/eliom/2.1.1/manual/client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="/eliom/2.1.1/manual/html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="/eliom/2.1.1/manual/security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="/eliom/2.1.1/manual/wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="/eliom/2.1.1/manual/examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Server API</h1><h2><a href="/eliom/2.1.1/api/server/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href="/eliom/2.1.1/api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2>HTML</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_pervasives.HTML5" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_pervasives.XHTML" class="ocsimore_phrasing_link">Eliom_pervasives.XHTML</a></h3><h2>Services creation and service handler</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_output" class="ocsimore_phrasing_link">Eliom_output</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_references" class="ocsimore_phrasing_link">Eliom_references</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Extensions</h2><h3><a href="/eliom/2.1.1/api/server/Eliom_atom" class="ocsimore_phrasing_link">Eliom_atom</a></h3><h3><a href="/eliom/2.1.1/api/server/Eliom_openid" class="ocsimore_phrasing_link">Eliom_openid</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_types">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_values">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_modules">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/index_module_types">Index of module types</a></span></h3><h1>Eliom client API</h1><h2><a href="/eliom/2.1.1/api/client/Eliom_pervasives" class="ocsimore_phrasing_link">Eliom_pervasives</a></h2><h2>HTML</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_pervasives.HTML5" class="ocsimore_phrasing_link">Eliom_pervasives.HTML5</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_output.Html5" class="ocsimore_phrasing_link">Eliom_output.Html5</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_dom" class="ocsimore_phrasing_link">Eliom_dom</a></h3><h2>Services creation and manipulation</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_client.Html5" class="ocsimore_phrasing_link">Eliom_client.Html5</a></h3><h2>Client/server communication</h2><h3><a href="/eliom/2.1.1/api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="/eliom/2.1.1/api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h2>Index</h2><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_types">Index of types</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_values">Index of values</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_modules">Index of modules</a></span></h3><h3> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/client/index_module_types">Index of module types</a></span></h3></nav></nav><article class="rightcol"><h1>Module <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references">Eliom_references</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_references</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references">..</a></span><span class="ocsforge_color_keyword">end</span></pre><h2 id="2_ServersidestatedataakaEliomreferences">Server side state data, a.k.a Eliom references <a class="backref" href="#2_ServersidestatedataakaEliomreferences">&#182;</a></h2><hr/><pre class="ocsforge_color odocwiki_code" id="TYPEeref'"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>'a, +'b<span class="ocsforge_color_delimiter">)</span></span> <span class="odocwiki_name">eref'</span></pre><div class="odocwiki_info"><p>Eliom references come in two flavors: they may be stored persistently or
the may be volatile.  The module <span class="odocwiki_inlinecode">Volatile</span> allows one to creation of
references which can be, get, set, modify, and unset volatile references
through <em>non-Lwt</em> functions.</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEeref"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type">'a</span> <span class="odocwiki_name">eref</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>'a, [ `Persistent | `Volatile ]<span class="ocsforge_color_delimiter">)</span> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref'">eref'</a></span></span></pre><div class="odocwiki_info"><p>The type of Eliom references whose content is of type <span class="odocwiki_inlinecode">'a</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALeref"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">eref</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">scope:</span>[&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#TYPEall_scope">Eliom_common.all_scope</a></span> ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">?persistent:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">eref ~scope value</span> creates an Eliom reference for
the given <span class="odocwiki_inlinecode">scope</span> and initialize it with <span class="odocwiki_inlinecode">value</span>. See the Eliom
manual for more information about <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/manual/state">scopes</a></span>.
</p><p>Use the optional parameter <span class="odocwiki_inlinecode">?persistent</span> if you want the data to
survive after relaunching the server. You must give an unique name
to the table in which it will be stored on the hard disk (using
Ocsipersist).  Be very careful to use unique names, and to change
the name if you change the type of the data, otherwise the server
may crash (unsafe unmarshaling). This parameter has no effect for
scope <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALrequest">Eliom_common.​request</a></span>.
</p><p>Use the optional parameter <span class="odocwiki_inlinecode">~secure:true</span> if you want the data to
be available only using HTTPS. This parameter has no effect for
scopes <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>, <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALsite">Eliom_common.​site</a></span>, and
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALrequest">Eliom_common.​request</a></span>.
</p><p><em>Warning: Eliom references of scope <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>, <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALsite">Eliom_common.​site</a></span> or
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALrequest">Eliom_common.​request</a></span> may be created at any time ; but for other
scopes, they must be created when the site information is
available to Eliom, that is, either during the initialization
phase of the server (while reading the configuration file) or
during a request. Otherwise, it will raise the exception
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#EXCEPTIONEliom_site_information_not_available">Eliom_common.​Eliom_site_information_not_available</a></span>. If you are
using static linking, you must delay the call to this function
until the configuration file is read, using
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_services#VALregister_eliom_module">Eliom_services.​register_eliom_module</a></span>. Otherwise you will also
get this exception.</em></p></div><pre class="ocsforge_color odocwiki_code" id="VALeref_from_fun"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">eref_from_fun</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">scope:</span>[&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#TYPEall_scope">Eliom_common.all_scope</a></span> ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?secure:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?persistent:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">eref_from_fun</span> works like the above <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#VALeref">Eliom_references.​eref</a></span>,
but instead of providing a value for the initial content, a function <span class="odocwiki_inlinecode">f</span> for
<em>creating the initial content</em> is provided (cf. also <span class="odocwiki_inlinecode">Lazy.lazy_from_fun</span>).
</p><p>In each scope, the function <span class="odocwiki_inlinecode">f</span> is called for creating the value of the
reference the first time the reference is read (by <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#VALget">Eliom_references.​get</a></span>),
if the value has not been set explicitly before (by <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#VALset">Eliom_references.​set</a></span>);
or if the reference was reset (by <span class="odocwiki_inlinecode">Eliom_references.reset</span>) before.</p></div><pre class="ocsforge_color odocwiki_code" id="VALget"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">get eref</span> returns the current value of the Eliom
reference <span class="odocwiki_inlinecode">eref</span>.
</p><p><em>Warning: this function cannot be used outside of a service
handler when <span class="odocwiki_inlinecode">eref</span> has been created with a scope different of
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>; it can neither be used outside of an
Eliom module when <span class="odocwiki_inlinecode">eref</span> has been created with scope
<span class="odocwiki_inlinecode">!Eliom_common.site</span></em></p></div><pre class="ocsforge_color odocwiki_code" id="VALset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">set eref v</span> set <span class="odocwiki_inlinecode">v</span> as current value of the Eliom
reference <span class="odocwiki_inlinecode">eref</span>.
</p><p><em>Warning: this function could not be used outside af a service
handler when <span class="odocwiki_inlinecode">eref</span> has been created with a scope different of
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>; it can neither be used outside of an
Eliom module when <span class="odocwiki_inlinecode">eref</span> has been created with scope
<span class="odocwiki_inlinecode">!Eliom_common.site</span></em></p></div><pre class="ocsforge_color odocwiki_code" id="VALmodify"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">modify</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_delimiter">(</span>'a <span class="ocsforge_color_delimiter">-&gt;</span> 'a<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">modify eref f</span> modifies the content of the Eliom
reference <span class="odocwiki_inlinecode">eref</span> by applying the function <span class="odocwiki_inlinecode">f</span> on it.
</p><p><em>Warning: this function could not be used outside af a service
handler when <span class="odocwiki_inlinecode">eref</span> has been created with a scope different of
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>; it can neither be used outside of an
Eliom module when <span class="odocwiki_inlinecode">eref</span> has been created with scope
<span class="odocwiki_inlinecode">!Eliom_common.site</span></em></p></div><pre class="ocsforge_color odocwiki_code" id="VALunset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">unset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references#TYPEeref">eref</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>The function <span class="odocwiki_inlinecode">unset eref</span> reset the content of the Eliom reference
<span class="odocwiki_inlinecode">eref</span> to its initial value.
</p><p><em>Warning: this function could not be used outside af a service
handler when <span class="odocwiki_inlinecode">eref</span> has been created with a scope different of
<span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_common#VALglobal">Eliom_common.​global</a></span>; it can neither be used outside of an
Eliom module when <span class="odocwiki_inlinecode">eref</span> has been created with scope
<span class="odocwiki_inlinecode">!Eliom_common.site</span></em></p></div><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references.Volatile">Volatile</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/2.1.1/api/server/Eliom_references.Volatile">..</a></span><span class="ocsforge_color_keyword">end</span></pre><div class="odocwiki_info"><p>Same functions as in <span class="odocwiki_inlinecode">Eliom_references</span> but a non-Lwt interface
for non-persistent Eliom references.</p></div></article></div></div></body></html>
