<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Eliom_services </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script><script src="/js/client.js"></script></head><body class="eliom 1.2.2  Eliom_services"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href="/" class="ocsimore_phrasing_link"><img src="/img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Eliom
</p><ul class="mainmenu"><li class="mainmenu-home"><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="mainmenu-doc"><a href="/tuto/6.2/manual/intro" class="ocsimore_phrasing_link">Doc</a>
</li><li class="mainmenu-current"><a href="/eliom/6.3/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li><a href="/js_of_ocaml/3.1.0/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li><a href="/lwt/3.2.1/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li><a href="/ocsigen-start/1.1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li></ul><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href="/" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href="/tuto/6.2/manual/intro" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-current drawermainmenu-project"><a href="/eliom/6.3/manual/intro" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href="/js_of_ocaml/3.1.0/manual/overview" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href="/ocsigenserver/2.9/manual/quickstart" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href="/lwt/3.2.1/manual/manual" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href="/tyxml/4.1.0/manual/intro" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href="/ocsigen-toolkit/1.1.0/manual/intro" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href="/ocsigen-start/1.1.0/manual/intro" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-page"><a href="/projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href="/papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href="/credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href="/blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="/eliom/1.2.2/manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="/eliom/1.2.2/manual/services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="/eliom/1.2.2/manual/params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="/eliom/1.2.2/manual/outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="/eliom/1.2.2/manual/links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="/eliom/1.2.2/manual/state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="/eliom/1.2.2/manual/config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="/eliom/1.2.2/manual/client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="/eliom/1.2.2/manual/client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="/eliom/1.2.2/manual/client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="/eliom/1.2.2/manual/html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="/eliom/1.2.2/manual/security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="/eliom/1.2.2/manual/wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="/eliom/1.2.2/manual/examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Ocsigen - Reference manual</h1><h2>Ocsigen</h2><h3>Persistent data, writing in the logs, configuration file extension, Xhtml pretty printing</h3><h4><a href="/eliom/1.2.2/api/Ocsipersist" class="ocsimore_phrasing_link">Ocsipersist</a></h4><h3><a href="/eliom/1.2.2/api/Ocsigen_messages" class="ocsimore_phrasing_link">Ocsigen_messages</a></h3><h4><a href="/eliom/1.2.2/api/Ocsigen_parseconfig" class="ocsimore_phrasing_link">Ocsigen_parseconfig</a></h4><h3><a href="/eliom/1.2.2/api/Simplexmlparser" class="ocsimore_phrasing_link">Simplexmlparser</a></h3><h4><a href="/eliom/1.2.2/api/Xhtmlpretty" class="ocsimore_phrasing_link">Xhtmlpretty</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmlcompact" class="ocsimore_phrasing_link">Xhtmlcompact</a></h4><h3>Extending Ocsigen</h3><h4><a href="/eliom/1.2.2/api/Ocsigen_extensions" class="ocsimore_phrasing_link">Ocsigen_extensions</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_headers" class="ocsimore_phrasing_link">Ocsigen_headers</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_senders" class="ocsimore_phrasing_link">Ocsigen_senders</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_frame" class="ocsimore_phrasing_link">Ocsigen_http_frame</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_client" class="ocsimore_phrasing_link">Ocsigen_http_client</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_com" class="ocsimore_phrasing_link">Ocsigen_http_com</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_stream" class="ocsimore_phrasing_link">Ocsigen_stream</a></h4><h4><a href="/eliom/1.2.2/api/Authbasic" class="ocsimore_phrasing_link">Authbasic</a></h4><h2>Eliom</h2><h3>Main modules</h3><h4><a href="/eliom/1.2.2/api/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_sessions" class="ocsimore_phrasing_link">Eliom_sessions</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h4><h3>Generating pages with OcamlDuce</h3><h4><a href="/eliom/1.2.2/api/Eliom_duce" class="ocsimore_phrasing_link">Eliom_duce</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmltypes_duce" class="ocsimore_phrasing_link">Xhtmltypes_duce</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_duce_tools" class="ocsimore_phrasing_link">Eliom_duce_tools</a></h4><h3>Generating pages typed with polymorphic variants</h3><h4><a href="/eliom/1.2.2/api/Eliom_predefmod.Xhtml" class="ocsimore_phrasing_link">Eliom_predefmod.Xhtml</a></h4><h4><a href="/eliom/1.2.2/api/XHTML" class="ocsimore_phrasing_link">XHTML</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmltypes" class="ocsimore_phrasing_link">Xhtmltypes</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_tools" class="ocsimore_phrasing_link">Eliom_tools</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_tools_common" class="ocsimore_phrasing_link">Eliom_tools_common</a></h4><h3>Other kinds of pages</h3><h4><a href="/eliom/1.2.2/api/Eliom_predefmod" class="ocsimore_phrasing_link">Eliom_predefmod</a></h4><h3>Creating your own kinds of pages</h3><h4><a href="/eliom/1.2.2/api/Eliom_mkforms" class="ocsimore_phrasing_link">Eliom_mkforms</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_mkreg" class="ocsimore_phrasing_link">Eliom_mkreg</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmlpretty" class="ocsimore_phrasing_link">Xhtmlpretty</a></h4></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value="/eliom/dev/api/Eliom_services">dev</option><option value="/eliom/6.3/api/Eliom_services">6.3</option><option value="/eliom/6.2/api/Eliom_services">6.2</option><option value="/eliom/6.1/api/Eliom_services">6.1</option><option value="/eliom/6.0/api/Eliom_services">6.0</option><option value="/eliom/5.0/api/Eliom_services">5.0</option><option value="/eliom/4.2/api/Eliom_services">4.2</option><option value="/eliom/4.1/api/Eliom_services">4.1</option><option value="/eliom/4.0/api/Eliom_services">4.0</option><option value="/eliom/3.0/api/Eliom_services">3.0</option><option value="/eliom/2.2.2/api/Eliom_services">2.2.2</option><option value="/eliom/2.1.1/api/Eliom_services">2.1.1</option><option value="/eliom/2.0.2/api/Eliom_services">2.0.2</option><option value="/eliom/2.0.1/api/Eliom_services">2.0.1</option><option value="/eliom/2.0/api/Eliom_services">2.0</option><option value="/eliom/1.3.4/api/Eliom_services">1.3.4</option><option class="how-versions-all-current">1.2.2</option><option value="/eliom/1.1.0/api/Eliom_services">1.1.0</option></select><form id="search"><input name="q" id="q" placeholder="search ..."/><button>Search</button></form><nav class="how-doctree"><h1>Eliom's Reference manual</h1><h2><a href="/eliom/1.2.2/manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h2>Server side concepts</h2><h3>Services</h3><h4><a href="/eliom/1.2.2/manual/services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="/eliom/1.2.2/manual/params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="/eliom/1.2.2/manual/outputs" class="ocsimore_phrasing_link">Writing service handlers</a></h4><h4><a href="/eliom/1.2.2/manual/links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="/eliom/1.2.2/manual/state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="/eliom/1.2.2/manual/config" class="ocsimore_phrasing_link">Configuring and running Eliom</a></h3><h2>Client-server application</h2><h3><a href="/eliom/1.2.2/manual/client" class="ocsimore_phrasing_link">Applications</a></h3><h3><a href="/eliom/1.2.2/manual/client-communication" class="ocsimore_phrasing_link">Client/server communication</a></h3><h3><a href="/eliom/1.2.2/manual/client-compiling" class="ocsimore_phrasing_link">Compilation process</a></h3><h2>Miscellaneous</h2><h3><a href="/eliom/1.2.2/manual/html" class="ocsimore_phrasing_link">Writing HTML</a></h3><h3><a href="/eliom/1.2.2/manual/security" class="ocsimore_phrasing_link">Security considerations</a></h3><h3><a href="/eliom/1.2.2/manual/wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h3><a href="/eliom/1.2.2/manual/examples" class="ocsimore_phrasing_link">Examples</a></h3><h1>Ocsigen - Reference manual</h1><h2>Ocsigen</h2><h3>Persistent data, writing in the logs, configuration file extension, Xhtml pretty printing</h3><h4><a href="/eliom/1.2.2/api/Ocsipersist" class="ocsimore_phrasing_link">Ocsipersist</a></h4><h3><a href="/eliom/1.2.2/api/Ocsigen_messages" class="ocsimore_phrasing_link">Ocsigen_messages</a></h3><h4><a href="/eliom/1.2.2/api/Ocsigen_parseconfig" class="ocsimore_phrasing_link">Ocsigen_parseconfig</a></h4><h3><a href="/eliom/1.2.2/api/Simplexmlparser" class="ocsimore_phrasing_link">Simplexmlparser</a></h3><h4><a href="/eliom/1.2.2/api/Xhtmlpretty" class="ocsimore_phrasing_link">Xhtmlpretty</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmlcompact" class="ocsimore_phrasing_link">Xhtmlcompact</a></h4><h3>Extending Ocsigen</h3><h4><a href="/eliom/1.2.2/api/Ocsigen_extensions" class="ocsimore_phrasing_link">Ocsigen_extensions</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_headers" class="ocsimore_phrasing_link">Ocsigen_headers</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_senders" class="ocsimore_phrasing_link">Ocsigen_senders</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_frame" class="ocsimore_phrasing_link">Ocsigen_http_frame</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_client" class="ocsimore_phrasing_link">Ocsigen_http_client</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_http_com" class="ocsimore_phrasing_link">Ocsigen_http_com</a></h4><h4><a href="/eliom/1.2.2/api/Ocsigen_stream" class="ocsimore_phrasing_link">Ocsigen_stream</a></h4><h4><a href="/eliom/1.2.2/api/Authbasic" class="ocsimore_phrasing_link">Authbasic</a></h4><h2>Eliom</h2><h3>Main modules</h3><h4><a href="/eliom/1.2.2/api/Eliom_services" class="ocsimore_phrasing_link">Eliom_services</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_parameters" class="ocsimore_phrasing_link">Eliom_parameters</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_sessions" class="ocsimore_phrasing_link">Eliom_sessions</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h4><h3>Generating pages with OcamlDuce</h3><h4><a href="/eliom/1.2.2/api/Eliom_duce" class="ocsimore_phrasing_link">Eliom_duce</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmltypes_duce" class="ocsimore_phrasing_link">Xhtmltypes_duce</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_duce_tools" class="ocsimore_phrasing_link">Eliom_duce_tools</a></h4><h3>Generating pages typed with polymorphic variants</h3><h4><a href="/eliom/1.2.2/api/Eliom_predefmod.Xhtml" class="ocsimore_phrasing_link">Eliom_predefmod.Xhtml</a></h4><h4><a href="/eliom/1.2.2/api/XHTML" class="ocsimore_phrasing_link">XHTML</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmltypes" class="ocsimore_phrasing_link">Xhtmltypes</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_tools" class="ocsimore_phrasing_link">Eliom_tools</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_tools_common" class="ocsimore_phrasing_link">Eliom_tools_common</a></h4><h3>Other kinds of pages</h3><h4><a href="/eliom/1.2.2/api/Eliom_predefmod" class="ocsimore_phrasing_link">Eliom_predefmod</a></h4><h3>Creating your own kinds of pages</h3><h4><a href="/eliom/1.2.2/api/Eliom_mkforms" class="ocsimore_phrasing_link">Eliom_mkforms</a></h4><h4><a href="/eliom/1.2.2/api/Eliom_mkreg" class="ocsimore_phrasing_link">Eliom_mkreg</a></h4><h4><a href="/eliom/1.2.2/api/Xhtmlpretty" class="ocsimore_phrasing_link">Xhtmlpretty</a></h4></nav></nav><article class="rightcol"><h1>Module <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services">Eliom_services</a></span> </h1><div class="code"><p><span class="keyword">module</span> Eliom_services: <span class="code">sig</span><span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services">..</a></span><span class="code">end</span></p></div><p>This module allows to define services.<br/>
</p><hr/><div class="code" id="VALsync"><p><span class="keyword">val</span> sync : <span class="code type">('a -&gt; 'b -&gt; 'c -&gt; 'd) -&gt; 'a -&gt; 'b -&gt; 'c -&gt; 'd Lwt.t</span></p></div><div class="info"><p>This function may be used for services that cannot be interrupted
(no cooperation point for threads). It is defined by
<span class="code">let sync f sp g p = Lwt.return (f sp g p)</span><br/></p></div><div class="code" id="TYPEcookie"><p><span class="keyword">type</span> cookie = 
</p><table class="typetable"><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Set</span> <span class="keyword">of</span> <span class="code type"><span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_extensions#TYPEurl_path">Ocsigen_extensions.url_path</a></span> option * float option * string * string * bool</span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">Unset</span> <span class="keyword">of</span> <span class="code type"><span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_extensions#TYPEurl_path">Ocsigen_extensions.url_path</a></span> option * string</span></td></tr></table></div><div class="info"><p>Type used for other cookies to set or unset.
The float option is the timestamp for the expiration date.
The strings are names and values.<br/></p></div><div class="code" id="VALcookie_table_of_eliom_cookies"><p><span class="keyword">val</span> cookie_table_of_eliom_cookies : <span class="code type"><br/><span class="teletype">   </span>?oldtable:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_http_frame#TYPEcookieset">Ocsigen_http_frame.cookieset</a></span> -&gt;<br/><span class="teletype">   </span>  sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEcookie">cookie</a></span> list -&gt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_http_frame#TYPEcookieset">Ocsigen_http_frame.cookieset</a></span></span></p></div><div class="info"><p>Conversion fonction from Eliom cookies to server cookies.
If <span class="code">?oldtable</span> is present, cookies are added to this table<br/></p></div><div class="code" id="TYPEresult_to_send"><p><span class="keyword">type</span> result_to_send = 
</p><table class="typetable"><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">EliomResult</span> <span class="keyword">of</span> <span class="code type"><span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_http_frame#TYPEresult">Ocsigen_http_frame.result</a></span></span></td></tr><tr><td class="lefttop"><span class="keyword"><span class="teletype">|</span></span></td><td class="lefttop"><span class="constructor">EliomExn</span> <span class="keyword">of</span> <span class="code type">(exn list * <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEcookie">cookie</a></span> list)</span></td></tr></table></div><div class="info"><p>The type to send if you want to create your own modules for generating
pages<br/></p></div><p><br/>
</p><h2 id="2_Typesofservices">Types of services <a class="backref" href="#2_Typesofservices">&#182;</a></h2><p><br/>
</p><div class="code" id="TYPEsuff"><p><span class="keyword">type</span> suff = <span class="code type">[ `WithSuffix | `WithoutSuffix ]</span></p></div><div class="code" id="TYPEservcoserv"><p><span class="keyword">type</span> servcoserv = <span class="code type">[ `Coservice | `Service ]</span></p></div><div class="code" id="TYPEgetpost"><p><span class="keyword">type</span> getpost = <span class="code type">[ `Get | `Post ]</span></p></div><div class="code" id="TYPEattached_service_kind"><p><span class="keyword">type</span> attached_service_kind = <span class="code type">[ `External | `Internal of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> * <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEgetpost">getpost</a></span> ]</span></p></div><div class="code" id="TYPEget_attached_service_kind"><p><span class="keyword">type</span> get_attached_service_kind = <span class="code type">[ `External | `Internal of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> * [ `Get ] ]</span></p></div><div class="code" id="TYPEpost_attached_service_kind"><p><span class="keyword">type</span> post_attached_service_kind = <span class="code type">[ `External | `Internal of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> * [ `Post ] ]</span></p></div><div class="code" id="TYPEinternal"><p><span class="keyword">type</span> internal = <span class="code type">[ `Internal of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservcoserv">servcoserv</a></span> * <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEgetpost">getpost</a></span> ]</span></p></div><div class="code" id="TYPEregistrable"><p><span class="keyword">type</span> registrable = <span class="code type">[ `Registrable | `Unregistrable ]</span></p></div><div class="info"><p>You can call register function only on registrable services<br/></p></div><div class="code" id="TYPEa_s"><p><span class="keyword">type</span> <span class="code type">+'a</span> a_s</p></div><div class="code" id="TYPEna_s"><p><span class="keyword">type</span> <span class="code type">+'a</span> na_s</p></div><div class="code" id="TYPEservice_kind"><p><span class="keyword">type</span> service_kind = <span class="code type"><br/><span class="teletype">   </span>[ `Attached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span><br/><span class="teletype">   </span>  | `Nonattached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></p></div><div class="code" id="TYPEget_service_kind"><p><span class="keyword">type</span> get_service_kind = <span class="code type"><br/><span class="teletype">   </span>[ `Attached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEget_attached_service_kind">get_attached_service_kind</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span><br/><span class="teletype">   </span>  | `Nonattached of [ `Get ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></p></div><div class="code" id="TYPEpost_service_kind"><p><span class="keyword">type</span> post_service_kind = <span class="code type"><br/><span class="teletype">   </span>[ `Attached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEpost_attached_service_kind">post_attached_service_kind</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span><br/><span class="teletype">   </span>  | `Nonattached of [ `Post ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></p></div><div class="code" id="TYPEinternal_service_kind"><p><span class="keyword">type</span> internal_service_kind = <span class="code type"><br/><span class="teletype">   </span>[ `Attached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEinternal">internal</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span><br/><span class="teletype">   </span>  | `Nonattached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></p></div><div class="code" id="TYPEattached"><p><span class="keyword">type</span> attached = <span class="code type">[ `Attached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEattached_service_kind">attached_service_kind</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ]</span></p></div><div class="code" id="TYPEnonattached"><p><span class="keyword">type</span> nonattached = <span class="code type">[ `Nonattached of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEgetpost">getpost</a></span> <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ]</span></p></div><div class="code" id="TYPEservice"><p><span class="keyword">type</span> <span class="code type">('a, 'b, +'c, +'d, +'e, +'f, +'g)</span> service</p></div><div class="info"><p>Type of services.* <span class="code">'get</span> is the type of GET parameters
</p><ul><li> <span class="code">'post</span> is the type of POST parameters
</li><li> <span class="code">'kind</span> is a subtype of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice_kind">Eliom_services.​service_kind</a></span> (attached or non-attached
service, internal or external, GET only or with POST parameters)
</li><li> <span class="code">'tipo</span> is a phantom type stating the kind of parameters it uses
(suffix or not)
</li><li> <span class="code">'getnames</span> is the type of GET parameters names
</li><li> <span class="code">'postnames</span> is the type of POST parameters names
</li><li> <span class="code">'registrable</span> is a phantom type, subtype of <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEregistrable">Eliom_services.​registrable</a></span>,
telling if it is possible to register a handler on this service.
</li></ul><p><br/></p></div><p><br/>
</p><h2 id="2_Registrationofnamedmodules">Registration of named modules <a class="backref" href="#2_Registrationofnamedmodules">&#182;</a></h2><p><br/>
</p><p>This functionality allows to register module initialization functions for Eliom modules
which will be executed when the corresponding module is initialized in <span class="code">ocsigen.conf</span>.<br/>
</p><div class="code" id="VALregister_eliom_module"><p><span class="keyword">val</span> register_eliom_module : <span class="code type">string -&gt; (unit -&gt; unit) -&gt; unit</span></p></div><div class="info"><p>This function is used to specify the initialization function for Eliom modules
linked dynamic or statically into the server.
<span class="code">register_eliom_module name f</span> registers the initialization function <span class="code">f</span> for
module <span class="code">name</span>.  The <span class="code">f</span> function will be invoked when the module is
initialized in the configuration file using <span class="code">&lt;eliom name=&quot;name&quot;&gt; ... &lt;/eliom&gt;</span>, which
is equivalent to <span class="code">&lt;eliom module=&quot;name.cmo&quot;&gt; ... &lt;/eliom&gt;</span> with the exception
that it does not load the module using <span class="code">Dynlink</span>.<br/></p></div><p><br/>
</p><h2 id="2_Definitionsofservices">Definitions of services <a class="backref" href="#2_Definitionsofservices">&#182;</a></h2><p><br/>
<br/>
</p><h3 id="3_Mainservices">Main services <a class="backref" href="#3_Mainservices">&#182;</a></h3><p><br/>
</p><div class="code" id="VALnew_service"><p><span class="keyword">val</span> new_service : <span class="code type"><br/><span class="teletype">   </span>?sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  path:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_extensions#TYPEurl_path">Ocsigen_extensions.url_path</a></span> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c)<br/><span class="teletype">   </span>             <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Service ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   'b, 'c, unit, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p><span class="code">new_service ~path:p ~get_params:pa ()</span> creates an <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">Eliom_services.​service</a></span> associated
to the path <span class="code">p</span>, taking the GET parameters <span class="code">pa</span>.<br/>
</p><p>If <span class="code">~https</span> is true, all links towards that service will use https.<br/>
</p><p><em>Warning: If you use this function after the initialisation phase,
you must give the <span class="code">~sp</span> parameter, otherwise it will raise the
exception <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_common#EXCEPTIONEliom_function_forbidden_outside_site_loading">Eliom_common.​Eliom_function_forbidden_outside_site_loading</a></span>.</em><br/></p></div><div class="code" id="VALnew_external_service"><p><span class="keyword">val</span> new_external_service : <span class="code type"><br/><span class="teletype">   </span>prefix:string -&gt;<br/><span class="teletype">   </span>  path:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Ocsigen_extensions#TYPEurl_path">Ocsigen_extensions.url_path</a></span> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c)<br/><span class="teletype">   </span>             <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  post_params:('d, [ `WithoutSuffix ], 'e) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, 'd, [&gt; `Attached of [&gt; `External ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ], 'b, 'c, 'e,<br/><span class="teletype">   </span>   [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates an service for an external web site.
Allows to creates links or forms towards other Web sites using
Eliom's syntax.<br/>
</p><p>The parameter labelled <span class="code">~path</span> is the URL path, and each element of
the list will be URL-encoded.<br/>
</p><p>The parameter labelled <span class="code">~prefix</span> contains all what you want to put before
the path. It usually starts with &quot;http://&quot; plus
the name of the server. The whole URL is constructed from the prefix,
the path and parameters. The prefix is not encoded.
An empty prefix can be used to make a link to another site of the same
server.<br/></p></div><div class="code" id="VALnew_post_service"><p><span class="keyword">val</span> new_post_service : <span class="code type"><br/><span class="teletype">   </span>?sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  fallback:('a, unit,<br/><span class="teletype">   </span>            [ `Attached of<br/><span class="teletype">   </span>                [ `Internal of [ `Coservice | `Service ] * [ `Get ] ]<br/><span class="teletype">   </span>                <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>            [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c, unit, [&lt; `Registrable ])<br/><span class="teletype">   </span>           <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span> -&gt;<br/><span class="teletype">   </span>  post_params:('d, [ `WithoutSuffix ], 'e) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, 'd,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [ `Coservice | `Service ] * [&gt; `Post ] ]<br/><span class="teletype">   </span>        <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   'b, 'c, 'e, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates an service that takes POST parameters.
<span class="code">fallback</span> is the a service without POST parameters.
You can't create an service with POST parameters
if the same service does not exist without POST parameters.
Thus, the user can't bookmark a page that does not exist.<br/></p></div><p><br/>
</p><h3 id="3_Attachedcoservices">Attached coservices <a class="backref" href="#3_Attachedcoservices">&#182;</a></h3><p><br/>
</p><div class="code" id="VALnew_coservice"><p><span class="keyword">val</span> new_coservice : <span class="code type"><br/><span class="teletype">   </span>?name:string -&gt;<br/><span class="teletype">   </span>  ?max_use:int -&gt;<br/><span class="teletype">   </span>  ?timeout:float -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  fallback:(unit, unit,<br/><span class="teletype">   </span>            [ `Attached of<br/><span class="teletype">   </span>                [ `Internal of [ `Service ] * [ `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>            [ `WithoutSuffix ], unit, unit, [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEregistrable">registrable</a></span> ])<br/><span class="teletype">   </span>           <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [ `WithoutSuffix ], 'b) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Coservice ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithoutSuffix ], 'b, unit, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates a coservice. A coservice is another version of an
already existing main service, where you can register another handler.
The two versions are automatically distinguished using an extra parameter
added automatically by Eliom.
It allows to have several links towards the same page,
that will behave differently, or to create services dedicated to one user.
See the tutorial for more informations.
Coservices can be named if the <span class="code">?name</span> optional parameter
is present or anonymous (in that case, a coservice number will be
generated).<br/></p></div><div class="code" id="VALnew_post_coservice"><p><span class="keyword">val</span> new_post_coservice : <span class="code type"><br/><span class="teletype">   </span>?name:string -&gt;<br/><span class="teletype">   </span>  ?max_use:int -&gt;<br/><span class="teletype">   </span>  ?timeout:float -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  fallback:('a, unit,<br/><span class="teletype">   </span>            [ `Attached of<br/><span class="teletype">   </span>                [ `Internal of [&lt; `Coservice | `Service ] * [ `Get ] ]<br/><span class="teletype">   </span>                <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>            [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEsuff">suff</a></span> ] as 'b, 'c, unit, [&lt; `Registrable ])<br/><span class="teletype">   </span>           <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span> -&gt;<br/><span class="teletype">   </span>  post_params:('d, [ `WithoutSuffix ], 'e) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, 'd,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Coservice ] * [&gt; `Post ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   'b, 'c, 'e, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates a coservice with POST parameters<br/></p></div><p><br/>
</p><h3 id="3_Nonattachedcoservices">Non attached coservices <a class="backref" href="#3_Nonattachedcoservices">&#182;</a></h3><p><br/>
</p><div class="code" id="VALnew_coservice'"><p><span class="keyword">val</span> new_coservice' : <span class="code type"><br/><span class="teletype">   </span>?name:string -&gt;<br/><span class="teletype">   </span>  ?max_use:int -&gt;<br/><span class="teletype">   </span>  ?timeout:float -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [ `WithoutSuffix ], 'b) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  ('a, unit, [&gt; `Nonattached of [&gt; `Get ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithoutSuffix ], 'b, unit, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates a non-attached coservice, that is, services that do not
correspond to a precise path in the URL.
Links towards such services will not change the URL,
just add extra parameters.
Non-attached coservices can be named if the <span class="code">?name</span> optional parameter
is present or anonymous (in that case, a coservice number will be
generated).
See the tutorial for more informations.<br/></p></div><div class="code" id="VALnew_post_coservice'"><p><span class="keyword">val</span> new_post_coservice' : <span class="code type"><br/><span class="teletype">   </span>?name:string -&gt;<br/><span class="teletype">   </span>  ?max_use:int -&gt;<br/><span class="teletype">   </span>  ?timeout:float -&gt;<br/><span class="teletype">   </span>  ?keep_get_na_params:bool -&gt;<br/><span class="teletype">   </span>  ?<a href="https:bool" class="ocsimore_phrasing_link">https:bool</a> -&gt;<br/><span class="teletype">   </span>  post_params:('a, [ `WithoutSuffix ], 'b) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  unit -&gt;<br/><span class="teletype">   </span>  (unit, 'a, [&gt; `Nonattached of [&gt; `Post ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithoutSuffix ], unit, 'b, [&gt; `Registrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Creates a non attached coservice with POST parameters.
If the optional parameter <span class="code">~keep_get_na_params</span> is <span class="code">false</span>,
GET non-attached parameters won't be kept in the URL (if any) when you
create a POST form to this coservice.
Default is <span class="code">true</span>.
See also <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_mkforms.ELIOMFORMSIG#VALpost_form">Eliom_mkforms.​ELIOMFORMSIG.​post_form</a></span>.<br/></p></div><p><br/>
</p><h2 id="2_Misc">Misc <a class="backref" href="#2_Misc">&#182;</a></h2><p><br/>
</p><div class="code" id="VALstatic_dir"><p><span class="keyword">val</span> static_dir : <span class="code type"><br/><span class="teletype">   </span>sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  (string list, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Service ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithSuffix ], [ `One of string list ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span>, <br/><span class="teletype">   </span>   unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>A predefined service
that correponds to the directory where static pages are.
This directory is chosen in the config file (ocsigen.conf).
This service takes the name of the static file as a parameter
(a string list, slash separated).<br/></p></div><div class="code" id="VALhttps_static_dir"><p><span class="keyword">val</span> https_static_dir : <span class="code type"><br/><span class="teletype">   </span>sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  (string list, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Service ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithSuffix ], [ `One of string list ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span>, <br/><span class="teletype">   </span>   unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>The same, but forcing https<br/></p></div><div class="code" id="VALstatic_dir_with_params"><p><span class="keyword">val</span> static_dir_with_params : <span class="code type"><br/><span class="teletype">   </span>sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [ `WithoutSuffix ], 'b) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  (string list * 'a, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Service ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithSuffix ], [ `One of string list ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span> * 'b,<br/><span class="teletype">   </span>   unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Like <span class="code">static_dir</span>, but allows to put GET parameters<br/></p></div><div class="code" id="VALhttps_static_dir_with_params"><p><span class="keyword">val</span> https_static_dir_with_params : <span class="code type"><br/><span class="teletype">   </span>sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  get_params:('a, [ `WithoutSuffix ], 'b) <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparams_type">Eliom_parameters.params_type</a></span> -&gt;<br/><span class="teletype">   </span>  (string list * 'a, unit,<br/><span class="teletype">   </span>   [&gt; `Attached of<br/><span class="teletype">   </span>        [&gt; `Internal of [&gt; `Service ] * [&gt; `Get ] ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ],<br/><span class="teletype">   </span>   [ `WithSuffix ], [ `One of string list ] <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_parameters#TYPEparam_name">Eliom_parameters.param_name</a></span> * 'b,<br/><span class="teletype">   </span>   unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>The same, but forcing https<br/></p></div><div class="code" id="VALvoid_coservice'"><p><span class="keyword">val</span> void_coservice' : <span class="code type"><br/><span class="teletype">   </span>(unit, unit, [&gt; `Nonattached of 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ], [ `WithoutSuffix ],<br/><span class="teletype">   </span>   unit, unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>A predefined non-attached action with special behaviour:
it has no parameter at all, even non-attached parameters.
Use it if you want to make a link to the current page without non-attached
parameters.
It is almost equivalent to a POST non-attached service without POST
parameters, on which you register an action that does nothing,
but you can use it with &lt;a&gt; links, not only forms.
It does not keep non attached GET parameters.<br/></p></div><div class="code" id="VALhttps_void_coservice'"><p><span class="keyword">val</span> https_void_coservice' : <span class="code type"><br/><span class="teletype">   </span>(unit, unit, [&gt; `Nonattached of 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ], [ `WithoutSuffix ],<br/><span class="teletype">   </span>   unit, unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>The same, but forcing https.<br/></p></div><div class="code" id="VALvoid_hidden_coservice'"><p><span class="keyword">val</span> void_hidden_coservice' : <span class="code type"><br/><span class="teletype">   </span>(unit, unit, [&gt; `Nonattached of 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ], [ `WithoutSuffix ],<br/><span class="teletype">   </span>   unit, unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>Same as <span class="code">void_coservice'</span> but keeps non attached GET parameters.<br/></p></div><div class="code" id="VALhttps_void_hidden_coservice'"><p><span class="keyword">val</span> https_void_hidden_coservice' : <span class="code type"><br/><span class="teletype">   </span>(unit, unit, [&gt; `Nonattached of 'a <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEna_s">na_s</a></span> ], [ `WithoutSuffix ],<br/><span class="teletype">   </span>   unit, unit, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>The same, but forcing https.<br/></p></div><div class="code" id="VALpreapply"><p><span class="keyword">val</span> preapply : <span class="code type"><br/><span class="teletype">   </span>service:('a, 'b, [&gt; `Attached of 'd <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEa_s">a_s</a></span> ] as 'c,<br/><span class="teletype">   </span>           [&lt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEsuff">suff</a></span> ], 'e, 'f, 'g)<br/><span class="teletype">   </span>          <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span> -&gt;<br/><span class="teletype">   </span>  'a -&gt;<br/><span class="teletype">   </span>  (unit, 'b, 'c, [ `WithoutSuffix ], unit, 'f, [&gt; `Unregistrable ])<br/><span class="teletype">   </span>  <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEservice">service</a></span></span></p></div><div class="info"><p>creates a new service by preapplying a service to GET parameters.
It is not possible to register a handler on an preapplied service.
Preapplied services may be used in links or as fallbacks for coservices<br/></p></div><p><br/>
</p><h2 id="2_Usingyourownerrorpages">Using your own error pages <a class="backref" href="#2_Usingyourownerrorpages">&#182;</a></h2><p><br/>
</p><div class="code" id="VALset_exn_handler"><p><span class="keyword">val</span> set_exn_handler : <span class="code type"><br/><span class="teletype">   </span>?sp:<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt;<br/><span class="teletype">   </span>  (<span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_sessions#TYPEserver_params">Eliom_sessions.server_params</a></span> -&gt; exn -&gt; <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_services#TYPEresult_to_send">result_to_send</a></span> Lwt.t) -&gt;<br/><span class="teletype">   </span>  unit</span></p></div><div class="info"><p>allows to use your own error pages
(404, or any exception during page generation).<br/>
</p><p><em>Warning: If you use this function after the initialisation phase,
you must give the <span class="code">~sp</span> parameter, otherwise it will raise the
exception <span><a class="ocsforge_doclink_eliom" href="/eliom/1.2.2/api/server/Eliom_common#EXCEPTIONEliom_function_forbidden_outside_site_loading">Eliom_common.​Eliom_function_forbidden_outside_site_loading</a></span>.</em><br/></p></div></article></div></div></body></html>
