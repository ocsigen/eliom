<html><head><title>Module Eliom_client </title><meta charset="utf8"/><meta content="width=device-width, initial-scale=1" name="viewport"/><link rel="stylesheet" href="https://ocsigen.org/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script type="application/javascript" src="https://ocsigen.org/js/client.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js">
//<![CDATA[

//]]>
</script><script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js">
//<![CDATA[

//]]>
</script></head><body class="Eliom_client eliom"><div class="project-page"><div class="page-header"><p class="logo-ocsigen"><a href="../.././../../" class="ocsimore_phrasing_link"><img src="../.././../../img/ocsigen-white.svg" alt="Ocsigen"/></a>
</p><p class="logo-subproject">Eliom</p><div class="mainmenu"><p class="mainmenu-home"><a href="../.././../../" class="ocsimore_phrasing_link">Home</a></p><p class="mainmenu-doc"><a href="../.././../../tuto/" class="ocsimore_phrasing_link">Doc</a></p><p class="mainmenu-current"><a href="../.././../../eliom/" class="ocsimore_phrasing_link">Eliom</a></p><p><a href="../.././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a></p><p><a href="../.././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a></p><p><a href="../.././../../lwt/" class="ocsimore_phrasing_link">Lwt</a></p><p><a href="../.././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a></p><p><a href="../.././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a></p></div><form id="googlesearch" action="https://google.com/search"><input name="q" id="gsearch-box" placeholder="Search using Google"/><label for="gsearch-box"><img src="/img/search.svg" alt="" id="gsearch-icon"/></label><input type="submit" id="gsearch-submit" onclick="document.getElementById('gsearch-box').value += ' site:ocsigen.org';"/></form><aside class="how-drawer"><input id="how-drawer-toggle" type="checkbox"/><label for="how-drawer-toggle" id="how-drawer-label"><span class="how-drawer-icon"></span></label><nav class="how-drawer-content"><ul class="drawermainmenu"><li class="drawermainmenu-home"><a href="../.././../../" class="ocsimore_phrasing_link">Home</a>
</li><li class="drawermainmenu-doc"><a href="../.././../../tuto/" class="ocsimore_phrasing_link">Doc</a>
</li><li class="drawermainmenu-project"><a href="../.././../../eliom/" class="ocsimore_phrasing_link">Eliom</a>
</li><li class="drawermainmenu-project"><a href="../.././../../js_of_ocaml/" class="ocsimore_phrasing_link">Js_of_ocaml</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigenserver/" class="ocsimore_phrasing_link">Server</a>
</li><li class="drawermainmenu-project"><a href="../.././../../lwt/" class="ocsimore_phrasing_link">Lwt</a>
</li><li class="drawermainmenu-project"><a href="../.././../../tyxml/" class="ocsimore_phrasing_link">Tyxml</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigen-toolkit/" class="ocsimore_phrasing_link">Toolkit</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsigen-start/" class="ocsimore_phrasing_link">Start</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsipersist/" class="ocsimore_phrasing_link">Ocsipersist</a>
</li><li class="drawermainmenu-project"><a href="../.././../../html_of_wiki/" class="ocsimore_phrasing_link">html_of_wiki</a>
</li><li class="drawermainmenu-project"><a href="../.././../../ocsimore/" class="ocsimore_phrasing_link">Ocsimore (<em>deprecated</em>)</a>
</li><li class="drawermainmenu-page"><a href="../.././../../projects" class="ocsimore_phrasing_link">Other projects</a>
</li><li class="drawermainmenu-page"><a href="../.././../../papers" class="ocsimore_phrasing_link">Research papers</a>
</li><li class="drawermainmenu-page"><a href="../.././../../credits" class="ocsimore_phrasing_link">Who does Ocsigen?</a>
</li><li class="drawermainmenu-page"><a href="../.././../../contributing" class="ocsimore_phrasing_link">Contributing</a>
</li><li class="drawermainmenu-page"><a href="../.././../../blog" class="ocsimore_phrasing_link">Blog</a>
</li><li class="drawermainmenu-page"><a href="../.././../../install" class="ocsimore_phrasing_link">Installation</a>
</li><li class="drawermainmenu-page"><a href="https://github.com/ocsigen" class="ocsimore_phrasing_link">Source code</a>
</li></ul><nav class="how-doctree"><h1> Eliom's Reference manual</h1><h2><a href="../.././manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h3><span><a href="../.././../../tuto/latest/manual/basics">Client-server applications</a></span></h3><h3><span><a href="../.././../../tuto/latest/manual/basics-server">Server-side websites</a></span></h3><h2>Server-side programming</h2><h3>Services</h3><h4><a href="../.././manual/server-services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="../.././manual/server-params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="../.././manual/server-outputs" class="ocsimore_phrasing_link">Service handlers</a></h4><h4><a href="../.././manual/server-links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="../.././manual/server-state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="../.././manual/server-security" class="ocsimore_phrasing_link">Security</a></h3><h2>Client-server programming</h2><h3><a href="../.././manual/clientserver-applications" class="ocsimore_phrasing_link">Eliom applications</a></h3><h3><a href="../.././manual/ppx-syntax" class="ocsimore_phrasing_link">Multi-tier programming</a></h3><h3><a href="../.././manual/clientserver-html" class="ocsimore_phrasing_link">Generating HTML</a></h3><h3><a href="../.././manual/clientserver-communication" class="ocsimore_phrasing_link">Communication</a></h3><h3><a href="../.././manual/clientserver-services" class="ocsimore_phrasing_link">Client-side services</a></h3><h3><a href="../.././manual/clientserver-react" class="ocsimore_phrasing_link">Shared reactive programming</a></h3><h3><a href="../.././manual/clientserver-cache" class="ocsimore_phrasing_link">Caching data and off-line applications</a></h3><h3><a href="../.././manual/clientserver-wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h2>Workflows</h2><h3><a href="../.././manual/workflow-distillery" class="ocsimore_phrasing_link">Distillery</a></h3><h3><a href="../.././manual/mobile-apps" class="ocsimore_phrasing_link">Mobile apps</a></h3><h3><a href="../.././manual/workflow-configuration" class="ocsimore_phrasing_link">Configuration &amp; running</a></h3><h3><a href="../.././manual/scalability" class="ocsimore_phrasing_link">Scalability</a></h3><h1>Server API</h1><h2><a href="../.././api/server/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="../.././api/server/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="../.././api/server/Eliom_client_value" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2><a href="../.././api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href="../.././api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href="../.././api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2><a href="../.././api/server/Eliom_reference" class="ocsimore_phrasing_link">Eliom_reference</a></h2><h2><a href="../.././api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h2><h2>Content and form creation</h2><h3><a href="../.././api/server/Eliom_content" class="ocsimore_phrasing_link">Eliom_content</a></h3><h3><a href="../.././api/server/Eliom_content.Html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="../.././api/server/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="../.././api/server/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h3><a href="../.././api/server/Eliom_tools" class="ocsimore_phrasing_link">Eliom_tools</a></h3><h2>Service creation</h2><h3><a href="../.././api/server/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="../.././api/server/Eliom_parameter" class="ocsimore_phrasing_link">Eliom_parameter</a></h3><h3><a href="../.././api/server/Eliom_registration" class="ocsimore_phrasing_link">Eliom_registration</a></h3><h3><a href="../.././api/server/Eliom_registration.Html" class="ocsimore_phrasing_link">Eliom_registration.Html</a></h3><h3><a href="../.././api/server/Eliom_registration.Action" class="ocsimore_phrasing_link">Eliom_registration.Action</a></h3><h3><a href="../.././api/server/Eliom_registration.Ocaml" class="ocsimore_phrasing_link">Eliom_registration.Ocaml</a></h3><h3><a href="../.././api/server/Eliom_registration.App" class="ocsimore_phrasing_link">Eliom_registration.App</a></h3><h3><a href="../.././api/server/Eliom_registration.File" class="ocsimore_phrasing_link">Eliom_registration.File</a></h3><h3><a href="../.././api/server/Eliom_registration.Any" class="ocsimore_phrasing_link">Eliom_registration.Any</a></h3><h3><a href="../.././api/server/Eliom_registration.Redirection" class="ocsimore_phrasing_link">Eliom_registration.Redirection</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/server/Eliom_shared" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="../.././api/server/Eliom_notif" class="ocsimore_phrasing_link">Eliom_notif</a></h3><h3><a href="../.././api/server/Eliom_cscache" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="../.././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a href="../.././api/server/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/server/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/server/index_module_types">Index of module types</a></span></h3><h1>Ocamlbuild plugin</h1><h2><a href="../.././api/ocamlbuild/Ocamlbuild_eliom" class="ocsimore_phrasing_link">Ocamlbuild_eliom</a></h2><h1>Client API</h1><h2><a href="../.././api/client/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="../.././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="../.././api/client/Eliom_client_value" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2>Content and form creation</h2><h3><a href="../.././api/client/Eliom_content.Html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="../.././api/client/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="../.././api/client/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/client/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="../.././api/client/Eliom_shared" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="../.././api/client/Eliom_cscache" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="../.././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/client/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a href="../.././api/client/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/client/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/client/index_module_types">Index of module types</a></span></h3><h1>Ppx syntax</h1><h2><a href="../.././api/ppx/Ppx_eliom" class="ocsimore_phrasing_link">Ppx_eliom</a></h2></nav></nav></aside></div><p class="reasonwarning">Warning: Reason support is experimental.
We are looking for beta-tester and contributors.
</p><button id="reason">Switch to </button><div class="twocols"><nav class="leftcol">Version <select class="how-versions" onchange="location = this.value;"><option value="../.././../dev/api/client/Eliom_client">dev</option><option value="../.././../10.x/api/client/Eliom_client" selected="selected">10.x</option><option value="../.././../8.x/api/client/Eliom_client">8.x</option><option value="../.././../1.3.4/api/client/Eliom_client">1.3.4</option></select><nav class="how-doctree"><h1> Eliom's Reference manual</h1><h2><a href="../.././manual/intro" class="ocsimore_phrasing_link">Introduction</a></h2><h3><span><a href="../.././../../tuto/latest/manual/basics">Client-server applications</a></span></h3><h3><span><a href="../.././../../tuto/latest/manual/basics-server">Server-side websites</a></span></h3><h2>Server-side programming</h2><h3>Services</h3><h4><a href="../.././manual/server-services" class="ocsimore_phrasing_link">The different types of services</a></h4><h4><a href="../.././manual/server-params" class="ocsimore_phrasing_link">Typing service parameters</a></h4><h4><a href="../.././manual/server-outputs" class="ocsimore_phrasing_link">Service handlers</a></h4><h4><a href="../.././manual/server-links" class="ocsimore_phrasing_link">Creating links and forms</a></h4><h3><a href="../.././manual/server-state" class="ocsimore_phrasing_link">Sessions and server side state</a></h3><h3><a href="../.././manual/server-security" class="ocsimore_phrasing_link">Security</a></h3><h2>Client-server programming</h2><h3><a href="../.././manual/clientserver-applications" class="ocsimore_phrasing_link">Eliom applications</a></h3><h3><a href="../.././manual/ppx-syntax" class="ocsimore_phrasing_link">Multi-tier programming</a></h3><h3><a href="../.././manual/clientserver-html" class="ocsimore_phrasing_link">Generating HTML</a></h3><h3><a href="../.././manual/clientserver-communication" class="ocsimore_phrasing_link">Communication</a></h3><h3><a href="../.././manual/clientserver-services" class="ocsimore_phrasing_link">Client-side services</a></h3><h3><a href="../.././manual/clientserver-react" class="ocsimore_phrasing_link">Shared reactive programming</a></h3><h3><a href="../.././manual/clientserver-cache" class="ocsimore_phrasing_link">Caching data and off-line applications</a></h3><h3><a href="../.././manual/clientserver-wrapping" class="ocsimore_phrasing_link">Custom wrapping</a></h3><h2>Workflows</h2><h3><a href="../.././manual/workflow-distillery" class="ocsimore_phrasing_link">Distillery</a></h3><h3><a href="../.././manual/mobile-apps" class="ocsimore_phrasing_link">Mobile apps</a></h3><h3><a href="../.././manual/workflow-configuration" class="ocsimore_phrasing_link">Configuration &amp; running</a></h3><h3><a href="../.././manual/scalability" class="ocsimore_phrasing_link">Scalability</a></h3><h1>Server API</h1><h2><a href="../.././api/server/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="../.././api/server/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="../.././api/server/Eliom_client_value" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2><a href="../.././api/server/Eliom_common" class="ocsimore_phrasing_link">Eliom_common</a></h2><h2><a href="../.././api/server/Eliom_config" class="ocsimore_phrasing_link">Eliom_config</a></h2><h2><a href="../.././api/server/Eliom_request_info" class="ocsimore_phrasing_link">Eliom_request_info</a></h2><h2><a href="../.././api/server/Eliom_reference" class="ocsimore_phrasing_link">Eliom_reference</a></h2><h2><a href="../.././api/server/Eliom_state" class="ocsimore_phrasing_link">Eliom_state</a></h2><h2>Content and form creation</h2><h3><a href="../.././api/server/Eliom_content" class="ocsimore_phrasing_link">Eliom_content</a></h3><h3><a href="../.././api/server/Eliom_content.Html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="../.././api/server/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="../.././api/server/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h3><a href="../.././api/server/Eliom_tools" class="ocsimore_phrasing_link">Eliom_tools</a></h3><h2>Service creation</h2><h3><a href="../.././api/server/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="../.././api/server/Eliom_parameter" class="ocsimore_phrasing_link">Eliom_parameter</a></h3><h3><a href="../.././api/server/Eliom_registration" class="ocsimore_phrasing_link">Eliom_registration</a></h3><h3><a href="../.././api/server/Eliom_registration.Html" class="ocsimore_phrasing_link">Eliom_registration.Html</a></h3><h3><a href="../.././api/server/Eliom_registration.Action" class="ocsimore_phrasing_link">Eliom_registration.Action</a></h3><h3><a href="../.././api/server/Eliom_registration.Ocaml" class="ocsimore_phrasing_link">Eliom_registration.Ocaml</a></h3><h3><a href="../.././api/server/Eliom_registration.App" class="ocsimore_phrasing_link">Eliom_registration.App</a></h3><h3><a href="../.././api/server/Eliom_registration.File" class="ocsimore_phrasing_link">Eliom_registration.File</a></h3><h3><a href="../.././api/server/Eliom_registration.Any" class="ocsimore_phrasing_link">Eliom_registration.Any</a></h3><h3><a href="../.././api/server/Eliom_registration.Redirection" class="ocsimore_phrasing_link">Eliom_registration.Redirection</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/server/Eliom_shared" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="../.././api/server/Eliom_notif" class="ocsimore_phrasing_link">Eliom_notif</a></h3><h3><a href="../.././api/server/Eliom_cscache" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="../.././api/server/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/server/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/server/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a href="../.././api/server/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/server/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/server/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/server/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/server/index_module_types">Index of module types</a></span></h3><h1>Ocamlbuild plugin</h1><h2><a href="../.././api/ocamlbuild/Ocamlbuild_eliom" class="ocsimore_phrasing_link">Ocamlbuild_eliom</a></h2><h1>Client API</h1><h2><a href="../.././api/client/Eliom_lib" class="ocsimore_phrasing_link">Eliom_lib</a></h2><h2><a href="../.././api/client/Eliom_client" class="ocsimore_phrasing_link">Eliom_client</a></h2><h2><a href="../.././api/client/Eliom_client_value" class="ocsimore_phrasing_link">Eliom_client_value</a></h2><h2>Content and form creation</h2><h3><a href="../.././api/client/Eliom_content.Html" class="ocsimore_phrasing_link">Eliom_content.Html</a></h3><h3><a href="../.././api/client/Eliom_content.Svg" class="ocsimore_phrasing_link">Eliom_content.Svg</a></h3><h3><a href="../.././api/client/Eliom_content.Xml" class="ocsimore_phrasing_link">Eliom_content.Xml</a></h3><h2>Client/server communication</h2><h3><a href="../.././api/client/Eliom_service" class="ocsimore_phrasing_link">Eliom_service</a></h3><h3><a href="../.././api/client/Eliom_shared" class="ocsimore_phrasing_link">Eliom_shared</a></h3><h3><a href="../.././api/client/Eliom_cscache" class="ocsimore_phrasing_link">Eliom_cscache</a></h3><h3><a href="../.././api/client/Eliom_bus" class="ocsimore_phrasing_link">Eliom_bus</a></h3><h3><a href="../.././api/client/Eliom_comet" class="ocsimore_phrasing_link">Eliom_comet</a></h3><h3><a href="../.././api/client/Eliom_react" class="ocsimore_phrasing_link">Eliom_react</a></h3><h2>Index</h2><h3> <span><a href="../.././api/client/index_types">Index of types</a></span></h3><h3> <span><a href="../.././api/client/index_exceptions">Index of exceptions</a></span></h3><h3> <span><a href="../.././api/client/index_values">Index of values</a></span></h3><h3> <span><a href="../.././api/client/index_modules">Index of modules</a></span></h3><h3> <span><a href="../.././api/client/index_module_types">Index of module types</a></span></h3><h1>Ppx syntax</h1><h2><a href="../.././api/ppx/Ppx_eliom" class="ocsimore_phrasing_link">Ppx_eliom</a></h2></nav></nav><article class="rightcol"><label class="csw-switch"><input type="checkbox" onchange="location = '.././server/Eliom_client';" checked="checked"/><span class="csw-slider csw-slider-style-round"></span><span class="csw-slider-no">Server version</span><span class="csw-slider-yes">Client version</span></label><h1>Module <span><a href="../.././api/client/Eliom_client">Eliom_client</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Eliom_client</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href="../.././api/client/Eliom_client">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Call server side services and change the current page.
</p><hr/><pre class="ocsforge_color odocwiki_code" id="VALlock_request_handling"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lock_request_handling</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><pre class="ocsforge_color odocwiki_code" id="VALunlock_request_handling"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">unlock_request_handling</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><h2 id="2_Mobileapplications">Mobile applications <a class="backref" href="#2_Mobileapplications">&#182;</a></h2><pre class="ocsforge_color odocwiki_code" id="VALinit_client_app"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">init_client_app</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">app_name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?ssl:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">site_dir:</span><span class="ocsforge_color_uid">Eliom_lib</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Url</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">path</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Call this function if you want to be able to run your client side
app before doing the first request, that is, when the client side
app is not sent by the server. This may be the case for example if
you are developing a mobile app. The parameters correspond to the
base URL of the server side of your application.
</p><p>Alternatively, and to make sure it is done early enough, define
JS variables called <span class="odocwiki_inlinecode">__eliom_server</span> and <span class="odocwiki_inlinecode">__eliom_app_name</span>
at the beginning of your html
file, containing the full URL of your server and Eliom app name.
</p><p><span class="odocwiki_inlinecode">site_dir</span> (if given) specifies the path that the application runs
under. It should correspond to the &lt;site&gt; tag of your server
configuration. Calls to server functions use this path.</p></div><pre class="ocsforge_color odocwiki_code" id="VALis_client_app"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">is_client_app</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> bool</span></pre><div class="odocwiki_info"><p>Returns whether the application is sent by a server or started on
client side. If called on server side, always returns <span class="odocwiki_inlinecode">false</span>.
Otherwise, it tests the presence of JS variables added automatically by
Eliom when the page is sent by a server.
Example:

</p><pre class=""><code class="language-ocaml translatable">if not (Eliom_client.is_client_app ())
 then Eliom_client.init_client_app ...</code></pre></div><h2 id="2_Callingservices">Calling services <a class="backref" href="#2_Callingservices">&#182;</a></h2><pre class="ocsforge_color odocwiki_code" id="VALchange_page"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">change_page</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?ignore_client_fun:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?replace:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?window_name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?window_features:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c, 'd, 'e, 'f, 'g,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'h, 'i,<br/>           <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_ocaml</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call a service and change the current page.  If the service
belongs to the same application, the client side program is not
stopped, and only the content (not the container) is reloaded.  If
the <span class="odocwiki_inlinecode">replace</span> flag is set, the new page will replace the current
page in the browser history if the service belongs to the same
application. The last two parameters are respectively the GET and
POST parameters to send to the service.
If <span class="odocwiki_inlinecode">window_name</span> is provided and not &quot;_self&quot; (for example <span class="odocwiki_inlinecode">&quot;_blank&quot;</span>),
will behave as <span class="odocwiki_inlinecode">exit_to</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcall_ocaml_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">call_ocaml_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c, 'd, 'e, 'f, 'g,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'h, 'i,<br/>           'return <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">ocaml</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> 'return <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call a server side service that return an OCaml value.
</p><p>If the service raises an exception, the call to the
<span class="odocwiki_inlinecode">call_ocaml_service</span> raises an exception <span><a href="../.././api/server/#EXCEPTIONException_on_server">Exception_on_server</a></span>  whose argument describes the server-side
exception.
(NB that we cannot send the original exception as-it, because
OCaml permits the marshalling of exceptions ...)</p></div><pre class="ocsforge_color odocwiki_code" id="VALexit_to"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">exit_to</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?window_name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?window_features:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c, 'd, 'e, 'f, 'g,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'h, 'i,<br/>           <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_ocaml</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Stop current program and load a new page.  Note that for string arguments,
sole line feed or sole carriage return characters are substituted by the
string <span class="odocwiki_inlinecode">&quot;\r\n&quot;</span>.
If <span class="odocwiki_inlinecode">window_name</span> is specified (for example <span class="odocwiki_inlinecode">&quot;_blank&quot;</span>), open in new window
by calling Javascript function <span class="odocwiki_inlinecode">window.open</span>.
In that case, you can add <span class="odocwiki_inlinecode">window_features</span> parameter
(as in Javascript function <span class="odocwiki_inlinecode">window.open</span>).
Warning: opening in other window may not work on mobile apps
if <span class="odocwiki_inlinecode">window.open</span> is not implemented.</p></div><pre class="ocsforge_color odocwiki_code" id="VALwindow_open"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">window_open</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">window_name:</span><span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">js_string</span> <span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?window_features:</span><span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">js_string</span> <span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get</span>, 'b, 'c, 'd, 'e,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'f, unit, 'g<span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Dom_html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">window</span> <span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Js_of_ocaml</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Js</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">opt</span></span></pre><div class="odocwiki_info"><p>Loads an Eliom service in a window (cf. Javascript's <span class="odocwiki_inlinecode">window.open</span>).</p></div><pre class="ocsforge_color odocwiki_code" id="VALchange_url"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">change_url</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?replace:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'get, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">get</span>, 'a, 'b, 'c, 'd,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'e, unit, 'f<span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span> 'get <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Changes the URL, without doing a request.
It takes a GET (co-)service as parameter and its parameters.
If the <span class="odocwiki_inlinecode">replace</span> flag is set, the current page is not saved
in the history.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcall_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">call_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?absolute:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?absolute_path:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?https:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">service:</span><span class="ocsforge_color_delimiter">(</span>'a, 'b, 'c, 'd, 'e, 'f, 'g,<br/>           [&lt; `WithSuffix | `WithoutSuffix ], 'h, 'i, 'j<span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?hostname:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?port:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?fragment:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_nl_params:</span>[ `All | `None | `Persistent ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?nl_params:</span><span class="ocsforge_color_uid">Eliom_parameter</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">nl_params_set</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?keep_get_na_params:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?upload_progress:</span><span class="ocsforge_color_delimiter">(</span>int <span class="ocsforge_color_delimiter">-&gt;</span> int <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?override_mime_type:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> 'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>(low level) Call a server side service and return the content
of the resulting HTTP frame as a string.</p></div><h2 id="2_Misc">Misc <a class="backref" href="#2_Misc">&#182;</a></h2><pre class="ocsforge_color odocwiki_code" id="VALonload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Registers some code to be executed after loading the client
application, or after changing the page the next time.
</p><p>It complements as a toplevel expression in the client
module with the side effect from client values while
creating the response of a service: While the latter are executed
each time the service has been called; the former is executed only
once; but each at a time where the document is in place:
</p><p>Beware of using <span class="odocwiki_inlinecode">onload</span> when using the DOM caching functionality,
i.e. <span class="odocwiki_inlinecode">push_history_dom</span>. When switching to a cached page (e.g. by going
back) the onload event is not triggered (as the page is not loaded). To
avoid this problem rely on <span class="odocwiki_inlinecode">Page_status.onactive</span> which is triggered for
freshly generated pages as well as pages served from the DOM cache.
</p><pre class=""><code class="language-ocaml translatable">[%%shared open Eliom_lib]
    [%%client
      let () = alert &quot;Once only during initialization of the client, \
                      i.e. before the document is available.&quot;
      let () =
        Eliom_client.onload
          (fun () -&gt; alert &quot;Once only when the document is put in place.&quot;)
    ]
    [%%server
      let _ = My_app.register_service ~path ~get_params
        (fun () () -&gt;
           ignore {unit{
             alert &quot;Each time this service is called and the sent document \
                    is put in place.&quot;
           }};
           Lwt.return html
    ]</code></pre></div><pre class="ocsforge_color odocwiki_code" id="VALlwt_onload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">lwt_onload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Returns a Lwt thread that waits until the next page is loaded.</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEchangepage_event"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">changepage_event</span> <span class="ocsforge_color_delimiter">=</span> <span class="ocsforge_color_delimiter">{</span>
<span class="odocwiki_record"><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">in_cache:</span> <span class="odocwiki_type">bool</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">origin_uri:</span> <span class="odocwiki_type">string</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">target_uri:</span> <span class="odocwiki_type">string</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">origin_id:</span> <span class="odocwiki_type">int</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">target_id:</span> <span class="odocwiki_type">int option</span><span class="ocsforge_color_delimiter">;</span></span></span></span><span class="ocsforge_color_delimiter">}</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">changepage_event</span> is a record of some parameters related to
page changes. <span class="odocwiki_inlinecode">in_cache</span> is true if the dom of the page is cached by
<span class="odocwiki_inlinecode">push_history_dom</span>.
<span class="odocwiki_inlinecode">origin_uri</span> is the uri of the current page and <span class="odocwiki_inlinecode">target_uri</span>
is the uri of the next page. <span class="odocwiki_inlinecode">origin_id</span> is the state_id of
the current page and <span class="odocwiki_inlinecode">target_id</span> is the state_id of the next page.
<span class="odocwiki_inlinecode">target_id</span> is not <span class="odocwiki_inlinecode">None</span> if and only if the onchangepage event
takes place during a navigation in history.</p></div><pre class="ocsforge_color odocwiki_code" id="VALonchangepage"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onchangepage</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span><span><a href="../.././api/client/Eliom_client#TYPEchangepage_event">changepage_event</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Run some code *before* the next page change, that is, before each
call to a page-producing service handler.
Just like onpreload, handlers registered with onchangepage only
apply to the next page change.</p></div><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a href="../.././api/client/Eliom_client.Page_status">Page_status</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a href="../.././api/client/Eliom_client.Page_status">..</a></span><span class="ocsforge_color_keyword">end</span></pre><pre class="ocsforge_color odocwiki_code" id="VALonbeforeunload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onbeforeunload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> string option<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">onbeforeunload f</span> registers <span class="odocwiki_inlinecode">f</span> as a handler to be called before
changing the page the next time. If <span class="odocwiki_inlinecode">f</span> returns <span class="odocwiki_inlinecode">Some s</span>, then we
ask the user to confirm quitting. We try to use <span class="odocwiki_inlinecode">s</span> in the
confirmation pop-up. <span class="odocwiki_inlinecode">None</span> means no confirmation needed.
</p><p>The callback <span class="odocwiki_inlinecode">f</span> is sometimes triggered by internal service calls,
and sometimes by the browser <span class="odocwiki_inlinecode">onbeforeunload</span> event. In the
<span class="odocwiki_inlinecode">onbeforeunload</span> case, the confirmation pop-up is managed by the
browser. For Firefox, the string <span class="odocwiki_inlinecode">s</span> returned by <span class="odocwiki_inlinecode">f</span> is ignored:
https://bugzilla.mozilla.org/show_bug.cgi?id=641509
</p><p><span class="odocwiki_inlinecode">onbeforeunload</span> can be used to register multiple callbacks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALonunload"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">onunload</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit<span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">onunload f</span> registers <span class="odocwiki_inlinecode">f</span> as a handler to be called before page
change. The callback <span class="odocwiki_inlinecode">f</span> is sometimes triggered by internal
service calls, and sometimes by the browser <span class="odocwiki_inlinecode">onunload</span> event.
<span class="odocwiki_inlinecode">onunload</span> can be used to register multiple callbacks.</p></div><pre class="ocsforge_color odocwiki_code" id="VALwait_load_end"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">wait_load_end</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Wait for the initialization phase to terminate</p></div><pre class="ocsforge_color odocwiki_code" id="VALget_application_name"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">get_application_name</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> string</span></pre><div class="odocwiki_info"><p>Returns the name of currently running Eliom application,
defined while applying <span class="odocwiki_inlinecode">Eliom_registration.App</span> functor.</p></div><pre class="ocsforge_color odocwiki_code" id="VALpersist_document_head"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">persist_document_head</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>After this function is called, the document head is no
longer changed on page change.</p></div><h2 id="2_RPCServerfunctions">RPC / Server functions <a class="backref" href="#2_RPCServerfunctions">&#182;</a></h2><p>See the <span><a href="../.././manual/clientserver-communication#rpc">manual</a></span> .
</p><pre class="ocsforge_color odocwiki_code" id="TYPEserver_function"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_type"><span class="ocsforge_color_delimiter">(</span>'a, 'b<span class="ocsforge_color_delimiter">)</span></span> <span class="odocwiki_name">server_function</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">'a <span class="ocsforge_color_delimiter">-&gt;</span> 'b <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>A <span class="odocwiki_inlinecode">('a, 'b) server_function</span> provides transparently access to a
server side function which has been created by <span><a href="../.././api/server/Eliom_client#VALserver_function">Eliom_client.server_function</a></span> .
</p><p>See also <span><a href="../.././api/server/Eliom_client#TYPEserver_function">the opaque server
    side representation</a></span> .
</p><p>The handling of exception on the server corresponds to that of
&lt;&lt;a_api subproject=&quot;client&quot;|val Eliom_client.call_ocaml_service&gt;&gt;.</p></div><pre class="ocsforge_color odocwiki_code" id="VALchange_page_uri"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">change_page_uri</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">?replace:</span>bool <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">change_page_uri ?replace uri</span> identifies and calls the
client-side service that implements <span class="odocwiki_inlinecode">uri</span>.
</p><p>We fallback to a server service call if the service is not
registered on the client.
</p><p>If the <span class="odocwiki_inlinecode">replace</span> flag is set to <span class="odocwiki_inlinecode">true</span>, the current page is not
saved in the history.</p></div><pre class="ocsforge_color odocwiki_code" id="VALset_client_html_file"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_client_html_file</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> unit</span></pre><div class="odocwiki_info"><p>Set the name of the HTML file loading our client app. The default
is &quot;eliom.html&quot;. A wrong value will not allow the app to
initialize itself correctly.</p></div></article></div></div></body></html>
